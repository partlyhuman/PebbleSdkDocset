<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Pebble SDK: DataLogging</title>
  <link href='bootstrap.css' media='screen' rel='stylesheet' type='text/css' />
  <link href='pebble-developer.css' media='screen' rel='stylesheet' type='text/css' />
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30638158-4']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
</head>
<body>
  <div id="top" ><!-- do not remove this div, it is closed by doxygen! -->
    <div class="navbar navbar-inverse ">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a class="first" href="#"><span></span></a></li>
              <li><a href="http://developer.getpebble.com/">Develop for Pebble</a></li>
            </ul>
            <ul class="nav pull-right">
              <li class="doc-nav-searchbox">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</li>
              <li><a href="http://forums.getpebble.com/">Forum</a></li>
              <li><a href="http://developer.getpebble.com/2/api-reference/modules.html">API Documentation</a></li>
              <li><a href="http://developer.getpebble.com/2/">Guides</a></li>
              <li><a href="http://developer.getpebble.com/blog/">Developer Blog</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___data_logging.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DataLogging<div class="ingroups"><a class="el" href="group___foundation.html">Foundation</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Enables logging data asynchronously to a mobile app. </p>
<p>In Pebble OS, data logging is a data storage and transfer subsystem that allows watchapps to save data on non-volatile storage devices when the phone is not available to process it. The API provides your watchapp with a mechanism for short-term data buffering for asynchronous data transmission to a mobile app.</p>
<p>Using this API, your Pebble watchapp can create an arbitrary number of logs, but youâ€™re limited in the amount of storage space you can use. Note that approximately 640K is available for data logging, which is shared among all watchapps that use it. This value is subject to change in the future. When the data spool is full, an app will start overwriting its own data. An app cannot overwrite another apps's data. However, the other app might have 0 bytes for data logging.</p>
<p>Your app can log data to a session, either creating, adding or deleting data to that session. The data is then sent to the associated phone application at the earliest convenience. If a phone is available, the data is sent directly to the phone. Otherwise, it is saved to the watch storage until the watch is connected to a phone.</p>
<p>For example:</p>
<p>To create a data logging session for 4-byte unsigned integers with a tag of 0x1234, you would do this: </p>
<div class="fragment"><div class="line">DataLoggingSessionRef logging_session = <a class="code" href="group___data_logging.html#ga5177edf0006d2df7c77573db1c62e9f2">data_logging_create</a>(0x1234, <a class="code" href="group___data_logging.html#gga35a7aa37609a9aebb3ad316e77cb716da472622733c6b9932c72ed1f19ae66526">DATA_LOGGING_UINT</a>, 4, <span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Fake creating some data and logging it to the session.</span></div>
<div class="line"><a class="code" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a> data[] = { 1, 2, 3, 4 };</div>
<div class="line"><a class="code" href="group___data_logging.html#ga6d287480242f84afaf7c01acc0ab2d63">data_logging_log</a>(logging_session, &amp;data, 4);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Fake creating more data and logging that as well.</span></div>
<div class="line"><a class="code" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a> data2[] = { 1, 2 };</div>
<div class="line"><a class="code" href="group___data_logging.html#ga6d287480242f84afaf7c01acc0ab2d63">data_logging_log</a>(logging_session, &amp;data, 2);</div>
<div class="line"></div>
<div class="line"><span class="comment">// When we don&#39;t need to log anything else, we can close off the session.</span></div>
<div class="line"><a class="code" href="group___data_logging.html#ga649d07075da61f59d8a18ebb589573af">data_logging_finish</a>(logging_session);</div>
</div><!-- fragment --><p>For code samples, refer to Examples/data-logging-demo. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5177edf0006d2df7c77573db1c62e9f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataLoggingSessionRef data_logging_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a>&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___data_logging.html#ga35a7aa37609a9aebb3ad316e77cb716d">DataLoggingItemType</a>&#160;</td>
          <td class="paramname"><em>item_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___standard_c.html#gabf6633e0fef9023e8a1e8d727f4023e1">uint16_t</a>&#160;</td>
          <td class="paramname"><em>item_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new data logging session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>A tag associated with the logging session. </td></tr>
    <tr><td class="paramname">item_type</td><td>The type of data stored in this logging session </td></tr>
    <tr><td class="paramname">item_length</td><td>The size of a single data item in bytes </td></tr>
    <tr><td class="paramname">resume</td><td>True if we want to look for a logging session of the same tag and resume logging to it. If this is false and a session with the specified tag exists, that session will be closed and a new session will be opened. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An opaque reference to the data logging session </dd></dl>

</div>
</div>
<a class="anchor" id="ga649d07075da61f59d8a18ebb589573af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void data_logging_finish </td>
          <td>(</td>
          <td class="paramtype">DataLoggingSessionRef&#160;</td>
          <td class="paramname"><em>logging_session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a data logging_session. Logging data is kept until it has successfully been transferred over to the phone, but no data may be added to the session after this function is called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logging_session</td><td>a reference to the data logging session previously allocated using data_logging_create </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6d287480242f84afaf7c01acc0ab2d63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___data_logging.html#gaddc3b8874990b538c7fe17b019ace38f">DataLoggingResult</a> data_logging_log </td>
          <td>(</td>
          <td class="paramtype">DataLoggingSessionRef&#160;</td>
          <td class="paramname"><em>logging_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___standard_c.html#gad53b3f685c3f3153f35ec87ea6f349d1">uint32_t</a>&#160;</td>
          <td class="paramname"><em>num_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data to the data logging session. If a phone is available, the data is sent directly to the phone. Otherwise, it is saved to the watch storage until the watch is connected to a phone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logging_session</td><td>a reference to the data logging session you want to add the data to </td></tr>
    <tr><td class="paramname">data</td><td>a pointer to the data buffer that contains multiple items </td></tr>
    <tr><td class="paramname">num_items</td><td>the number of items to log. This means data must be at least (num_items * item_length) long in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DATA_LOGGING_SUCCESS on success DATA_LOGGING_NOT_FOUND if the logging session is invalid DATA_LOGGING_CLOSED if the sesion is not active DATA_LOGGING_BUSY if the sesion is not available for writing DATA_LOGGING_INVALID_PARAMS if num_items is 0 or data is NULL </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga35a7aa37609a9aebb3ad316e77cb716d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___data_logging.html#ga35a7aa37609a9aebb3ad316e77cb716d">DataLoggingItemType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The different types of session data that Pebble supports. This type describes the type of a singular item in the data session. Every item in a given session is the same type and size. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga35a7aa37609a9aebb3ad316e77cb716dad2f7d26a001c89ff0571aa1504836dc2"></a>DATA_LOGGING_BYTE_ARRAY</em>&#160;</td><td class="fielddoc">
<p>Array of bytes. Remember that this is the type of a single item in the logging session, so using this type means you'll be logging multiple byte arrays (each a fixed length described by item_length) for the duration of the session. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga35a7aa37609a9aebb3ad316e77cb716da472622733c6b9932c72ed1f19ae66526"></a>DATA_LOGGING_UINT</em>&#160;</td><td class="fielddoc">
<p>Unsigned integer. This may be a 1, 2, or 4 byte integer depending on the item_length parameter. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga35a7aa37609a9aebb3ad316e77cb716da545b43678a162cc7e54a95de503fa184"></a>DATA_LOGGING_INT</em>&#160;</td><td class="fielddoc">
<p>Signed integer. This may be a 1, 2, or 4 byte integer depending on the item_length parameter. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gaddc3b8874990b538c7fe17b019ace38f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___data_logging.html#gaddc3b8874990b538c7fe17b019ace38f">DataLoggingResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggaddc3b8874990b538c7fe17b019ace38fa920b5048b86670c159a1be628113434c"></a>DATA_LOGGING_BUSY</em>&#160;</td><td class="fielddoc">
<p>Someone else is writing to this logging session. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggaddc3b8874990b538c7fe17b019ace38fafeea64638c2370bbbaab20722aac9fa8"></a>DATA_LOGGING_FULL</em>&#160;</td><td class="fielddoc">
<p>No more space to save data. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggaddc3b8874990b538c7fe17b019ace38fa6b1d5cd4697ac475efab2d6e00b97a80"></a>DATA_LOGGING_NOT_FOUND</em>&#160;</td><td class="fielddoc">
<p>The logging session does not exist. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggaddc3b8874990b538c7fe17b019ace38fa5e26c541e3ab96bfb92e8b8c2952af16"></a>DATA_LOGGING_CLOSED</em>&#160;</td><td class="fielddoc">
<p>The logging session was made inactive. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggaddc3b8874990b538c7fe17b019ace38fae31f38df1cacf60bc9bf96ba7c1de442"></a>DATA_LOGGING_INVALID_PARAMS</em>&#160;</td><td class="fielddoc">
<p>An invalid parameter was passed to one of the functions. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Mar 18 2014 13:39:45 for Pebble SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
